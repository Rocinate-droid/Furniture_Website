{% load humanize %}
{% load mathfilters %}
{% for cart_item in cart_items %}
<li class="d-flex align-items-center mb-3 border-bottom pb-2" >
        <!-- Product Image -->
        <div class="me-3" style="width: 80px; height: 80px; overflow: hidden; border-radius: 8px;">
          <img src="{{cart_item.product.img.url}}" alt="Product"
               class="img-fluid rounded" style="object-fit: cover; width: 100%; height: 100%;">
        </div>

        <!-- Product Details -->
        <div class="flex-grow-1">
          <div class="fw-semibold">{{cart_item.product.name}}</div>
          <div class="text-muted small">â‚¹{{ cart_item.product.original_price|mul:cart_item.quantity|intcomma }}</div>

          <!-- Quantity Controls -->
          <div class="d-flex align-items-center mt-2">
            <button class="btn btn-sm btn-outline-secondary px-2"
                    onclick="updateQuantity(this, -1, {{cart_item.id}})">
              <i class="fa-solid fa-minus"></i>
            </button>

            <input type="text" class="form-control form-control-sm text-center mx-2"
                   value="{{cart_item.quantity}}" min="1" style="width: 50px;" readonly>

            <button class="btn btn-sm btn-outline-secondary px-2"
                    onclick="updateQuantity(this, 1, {{cart_item.id}})">
              <i class="fa-solid fa-plus"></i>
            </button>
          </div>
        </div>

        <!-- Delete Icon -->
        <div class="ms-2">
          <button class="btn btn-sm btn-outline-danger" onclick="deleteCartItem({{cart_item.id}})">
            <i class="fa-solid fa-trash"></i>
          </button>
        </div>
      </li>
      {% endfor %}